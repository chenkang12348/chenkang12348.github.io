<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>动态组件和插槽 | F小站</title>
    <meta name="description" content="笔记！">
    <link rel="stylesheet" href="/assets/style.4f503646.css">
    <link rel="modulepreload" href="/assets/app.5f77e5d0.js">
    <link rel="modulepreload" href="/assets/views_article_Vue_libs_20211023.md.e1210e3c.lean.js">
    
    <link rel="shortcut icon" href="/images/favicon.png">
  <meta name="twitter:title" content="动态组件和插槽 | F小站">
  <meta property="og:title" content="动态组件和插槽 | F小站">
  </head>
  <body>
    <div id="app"><div class="docs-content" data-v-42659ba0><div class="home-nav" style="background-color:rgba(255,255,255,0.1);4970fd5e:#bbb;2226ccb4:#008c8c;" data-v-42659ba0 data-v-4e867d27><div class="home-operate" data-v-4e867d27><!--[--><a class="operate-item" href="/" data-v-4e867d27>Home</a><a class="operate-item" href="/views/article/Javascript/index.html" data-v-4e867d27>Blog</a><a class="operate-item" href="/views/about.html" data-v-4e867d27>About</a><!--]--><a class="operate-btn" href="#" target="_blank" data-v-4e867d27><i class="svg-icon" style="font-size:26px;" data-v-4e867d27><!--[--><svg class="icon" viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" data-v-4e867d27><path fill="currentColor" d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9 23.5 23.2 38.1 55.4 38.1 91v112.5c0.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"></path></svg><!--]--></i></a></div></div><div class="docs-bodyer" data-v-42659ba0><div class="article-content" data-v-42659ba0 data-v-6a965d42><div class="tabs" data-v-6a965d42><ul class="tabs__links" data-v-6a965d42><!--[--><li data-v-6a965d42><button class="tabs__link" data-v-6a965d42><abbr title="Javascript" style="text-decoration:none;" data-v-6a965d42><a class="tabs__link__text" data-text="Javascript" href="/views/article/Javascript/index.html" data-v-6a965d42>Javascript</a></abbr></button></li><li data-v-6a965d42><button class="active  tabs__link" data-v-6a965d42><abbr title="Vue" style="text-decoration:none;" data-v-6a965d42><a class="tabs__link__text" data-text="Vue" href="/views/article/Vue/index.html" data-v-6a965d42>Vue</a></abbr></button></li><li data-v-6a965d42><button class="tabs__link" data-v-6a965d42><abbr title="React" style="text-decoration:none;" data-v-6a965d42><a class="tabs__link__text" data-text="React" href="/views/article/React/index.html" data-v-6a965d42>React</a></abbr></button></li><li data-v-6a965d42><button class="tabs__link" data-v-6a965d42><abbr title="Nodejs" style="text-decoration:none;" data-v-6a965d42><a class="tabs__link__text" data-text="Nodejs" href="/views/article/Nodejs/index.html" data-v-6a965d42>Nodejs</a></abbr></button></li><li data-v-6a965d42><button class="tabs__link" data-v-6a965d42><abbr title="InformalEssay" style="text-decoration:none;" data-v-6a965d42><a class="tabs__link__text" data-text="InformalEssay" href="/views/article/InformalEssay/index.html" data-v-6a965d42>InformalEssay</a></abbr></button></li><!--]--></ul></div><div class="content" data-v-6a965d42><div style="position:relative;" data-v-6a965d42><div><h2 id="动态组件和插槽" tabindex="-1">动态组件和插槽 <a class="header-anchor" href="#动态组件和插槽" aria-hidden="true">#</a></h2><h3 id="组件进阶-props校验" tabindex="-1">组件进阶-props校验 <a class="header-anchor" href="#组件进阶-props校验" aria-hidden="true">#</a></h3><p><strong><mark>props校验</mark></strong></p><ul><li>普通格式：props: [&quot;propA&quot;, &quot;propB&quot;]。没有类型检查 高阶格式：</li></ul><div class="language-vue"><pre><code>props: {
    // 基础的类型检查 (`null` 和 `undefined` 会通过任何类型验证)
    propA: Number,
    // 多个可能的类型
    propB: [String, Number],
    // 必填的字符串
    propC: {
      type: String,
      required: true
    },
    // 带有默认值的数字
    propD: {
      type: Number,
      default: 100
    },
    // 带有默认值的对象
    propE: {
      type: Object,
      // 对象或数组默认值必须从一个工厂函数获取
      default: function () {
        return { message: &#39;hello&#39; }
      }
    },
    // 自定义验证函数
    propF: {
      validator: function (value) {
        // 这个值必须匹配下列字符串中的一个
        return [&#39;success&#39;, &#39;warning&#39;, &#39;danger&#39;].indexOf(value) !== -1
      }
    }
  }
</code></pre></div><h3 id="组件进阶-动态组件" tabindex="-1">组件进阶 - 动态组件 <a class="header-anchor" href="#组件进阶-动态组件" aria-hidden="true">#</a></h3><ul><li>需求: 完成一个注册功能页面, 2个按钮切换, 额外封装两个组件：一个填写注册信息, 一个填写用户简介信息</li><li>目标: 多个组件使用同一个挂载点，并可以动态切换，这就是动态组件 <strong>目录结构</strong></li></ul><div class="language-shell"><pre><code><span class="token comment"># 根组件</span>
├── App.vue
└── components
    ├── UserName.vue <span class="token comment"># 用户名和密码输入框</span>
    └── UserInfo.vue <span class="token comment"># 人生格言和自我介绍框</span>
</code></pre></div><p><strong>格式</strong></p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>comName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>操作</strong> UserName.vue</p><div class="language-vue"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>UserName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>用户名:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>密码:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
export default {

}
</code></pre></div><ul><li>在父组件App.vue中使用</li></ul><div class="language-vue"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>comName = <span class="token punctuation">&#39;</span>UserName<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>账号密码填写<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>comName = <span class="token punctuation">&#39;</span>UserInfo<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>个人信息填写<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>下面显示注册组件:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid red</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- vue内置的组件component, 可以动态显示组件 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>comName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> UserName <span class="token keyword">from</span> <span class="token string">&quot;./UserName&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> UserInfo <span class="token keyword">from</span> <span class="token string">&quot;./UserInfo&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">comName</span><span class="token operator">:</span> <span class="token string">&quot;UserName&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    UserName<span class="token punctuation">,</span>
    UserInfo<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>注意</strong></p><ul><li><p>is只能是动态属性=》:is=&quot;组件注册后的标签名字符串或data变量&quot;</p></li><li><p>不能直接拿注册标签名赋值使用</p></li><li><p>vue内置component组件, 配合is属性, 设置要显示的组件标签名字</p></li></ul><h3 id="组件进阶-keep-alive组件" tabindex="-1">组件进阶-keep-alive组件 <a class="header-anchor" href="#组件进阶-keep-alive组件" aria-hidden="true">#</a></h3><p>组件切换会导致组件被频繁销毁和重新创建, 大多数情况下是有自己的意义的，但也可能会导致不必要的性能损耗</p><ul><li>keep-alive 使用Vue内置的keep-alive组件, 可以让包裹的组件保存在内存中不被销毁</li></ul><blockquote><p>补充生命周期:</p></blockquote><ul><li>activated - 激活</li><li>deactivated - 失去激活状态</li></ul><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- vue内置的组件component, 可以动态显示组件 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>comName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>keep-alive可以提高组件的性能, 内部包裹的标签不会被销毁和重新创建, 触发激活和非激活的生命周期方法</p><h3 id="组件进阶-keep-alive组件-指定缓存" tabindex="-1">组件进阶-keep-alive组件-指定缓存 <a class="header-anchor" href="#组件进阶-keep-alive组件-指定缓存" aria-hidden="true">#</a></h3><ul><li>语法 <ul><li><code>include=&quot;组件名1,组件名2...&quot;</code></li><li><code>:include=&quot;[&#39;组件名1&#39;， &#39;组件名2&#39;]&quot;</code></li></ul></li></ul><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span> <span class="token attr-name">include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name1,name2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- vue内置的组件component, 可以动态显示组件 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>comName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>匹配首先检查组件自身的 name 选项，如果 name 选项不可用，则匹配它的局部注册名称 (父组件 components 选项的键值)</li></ul><h3 id="组件进阶-默认插槽" tabindex="-1">组件进阶 - 默认插槽 <a class="header-anchor" href="#组件进阶-默认插槽" aria-hidden="true">#</a></h3><p><strong>vue中的插槽</strong></p><ul><li>组件通过插槽传入自定义结构</li><li>用于实现组件的内容分发, 通过 slot 标签, 可以接收到写在组件标签内的内容</li><li>vue提供组件插槽能力, 允许开发者在封装组件时，把不确定的部分定义为插槽</li></ul><p><strong>格式</strong> 在定义组件时，在template中用slot来占个坑；</p><blockquote><p>使用时，将组件之间的内容来填坑； <img src="/assets/20220526095344.3a85141c.jpg" alt=""></p></blockquote><h3 id="组件进阶-具名插槽" tabindex="-1">组件进阶-具名插槽 <a class="header-anchor" href="#组件进阶-具名插槽" aria-hidden="true">#</a></h3><p>当一个组件内有2处以上需要外部传入标签的地方</p><ul><li><p><code>&lt;template #xxx&gt;</code>; <img src="/assets/20220526095611.0c0f40fb.jpg" alt=""></p></li><li><p>传入的标签可以分别派发给不同的slot位置</p></li><li><p>v-slot一般跟template标签使用 (template是html5新出标签内容模板元素, 不会渲染到页面上, 一般被vue解析为内部标签)</p></li></ul><p><strong>例</strong></p><ol><li>子组件-Pannel2.vue</li></ol><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isShow<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>one<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>two<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="2"><li>父组件-UseSlot2.vue</li></ol><ul><li><p>v-bind可以省略成:</p></li><li><p>v-on: 可以省略成@</p></li><li><p>v-slot: 可以简化成#</p></li></ul><p>写法1</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pannel2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>one</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../assets/mm.gif<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>two</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>我是文字哦<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pannel2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>写法2</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pannel2</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 简化写法 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#one</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>寒雨连江夜入吴,<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>平明送客楚山孤。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>洛阳亲友如相问，<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>一片冰心在玉壶。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#two</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../assets/mm.gif<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pannel2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>slot有可以设置多个</li><li>定义组件时：slot的name属性起插槽名</li><li>使用组件时, template配合#插槽名传入具体html标签或组件</li></ul><h3 id="组件进阶-作用域插槽" tabindex="-1">组件进阶-作用域插槽 <a class="header-anchor" href="#组件进阶-作用域插槽" aria-hidden="true">#</a></h3><p><img src="/assets/20220526095943.295e0cb9.jpg" alt=""></p><ol><li>目标:</li></ol><ul><li>子组件中的数据, 在给插槽赋值时在父组件环境下使用=&gt; 子传父=》传数据</li></ul><ol start="2"><li>步骤</li></ol><ul><li>创建子组件, 准备slot, 在slot上绑定属性和子组件值</li><li>使用子组件, 传入自定义标签, 用template和v-slot=&quot;自定义变量名&quot;</li><li>自定义变量名会自动绑定slot上所有属性, 就可以使用子组件内值, 并替换* slot位置</li></ul><ol start="3"><li>例</li></ol><ul><li>子组件</li></ul><div class="language-vue"><pre><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span>1px solid #ccc<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span>5px<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span>5px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>子组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 给slot上补充自定义的属性 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:a</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:b</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      默认内容
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><ul><li>父组件</li></ul><div class="language-vue"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span>1px solid #ccc<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span>5px<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span>5px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>45-插槽-作用域插槽<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyCom</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- 
        v-slot:插槽名=&quot;对象&quot; 
      对象会自动接收这个插槽传递回来自定义属性
      --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- &lt;h1&gt;自定义的内容，填坑, {{scope}}&lt;/h1&gt; --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>{{scope.a}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{scope.b}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MyCom</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

<span class="token comment">// 父传子</span>
<span class="token comment">//  1.传数据。 自定义属性    （父）  props(子)</span>
<span class="token comment">//  2.传结构。 在组件中写内容（父）  slot (子)</span>

<span class="token keyword">import</span> MyCom <span class="token keyword">from</span> <span class="token string">&#39;./MyCom.vue&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> MyCom <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.content</span><span class="token punctuation">{</span>
<span class="token property">background-color</span><span class="token punctuation">:</span> #ccc<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>组件内变量绑定在slot上, 然后使用组件v-slot:插槽名字=&quot;变量&quot; ，变量上就会绑定slot传递的属性和值</p><h3 id="自定义指令-基本使用" tabindex="-1">自定义指令-基本使用 <a class="header-anchor" href="#自定义指令-基本使用" aria-hidden="true">#</a></h3><p>除了核心功能默认内置的指令 (v-model 和 v-show)等，Vue 也允许注册自定义指令=》 v-xxx</p><ul><li>html+css+js的复用的主要形式是组件</li><li>你需要对普通 DOM 元素进行底层操作，这时候就会用到自定义指令</li></ul><ol><li>作用</li></ol><ul><li>扩展标签额外的功能</li></ul><ol start="2"><li>自定义指令-定义方式</li></ol><div class="language-js"><pre><code><span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">directives</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">focus</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 自定义指令名</span>
        <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// 固定配置项 - 当指令插入到标签自动触发此函数</span>
            el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>示例 自动获取焦点</li></ol><div class="language-vue"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-focus</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// 注册</span>
  <span class="token literal-property property">directives</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">focus</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 自定义指令名</span>
        <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// 固定配置项 - 当指令插入到标签自动触发此函数</span>
            el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="自定义指令-传值和更新" tabindex="-1">自定义指令-传值和更新 <a class="header-anchor" href="#自定义指令-传值和更新" aria-hidden="true">#</a></h3><ol><li><p>目标: 使用自定义指令, 传入一个值</p></li><li><p>需求: 定义color指令-传入一个颜色, 给标签设置文字颜色 main.js定义处修改一下</p></li></ol><div class="language-js"><pre><code><span class="token literal-property property">directives</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;color&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// 插入时触发此函数</span>
      el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// 更新绑定的变量时触发此函数=》手动更新</span>
      el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Direct.vue处更改一下</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theColor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeColor<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>使用v-color指令控制颜色, 点击变蓝<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">theColor</span><span class="token operator">:</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">changeColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>theColor <span class="token operator">=</span> <span class="token string">&#39;blue&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>v-xxx, 自定义指令, 获取原生DOM, 自定义操作</p><h2 id="end" tabindex="-1">END <a class="header-anchor" href="#end" aria-hidden="true">#</a></h2><hr></div></div></div><div class="copy-right" data-v-6a965d42>&lt;code        &gt; <a href="/views/about.html" data-v-6a965d42>@F-笔记</a> &lt;/code      &gt;</div></div></div><ul class="ken-burns-slideshow" data-v-42659ba0 data-v-038c3be8><li class="slide" id="slide1" data-v-038c3be8></li><li class="slide" id="slide2" data-v-038c3be8></li><li class="slide" id="slide3" data-v-038c3be8></li><li class="slide" id="slide4" data-v-038c3be8></li></ul></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"799abfdb\",\"views_about.md\":\"aebe9aa7\",\"views_article_informalessay_index.md\":\"49659060\",\"views_article_informalessay_libs_20200929.md\":\"06ec7617\",\"views_article_informalessay_libs_20210401.md\":\"330f3fd7\",\"views_article_informalessay_libs_20210501.md\":\"88954ea2\",\"views_article_informalessay_libs_20210507.md\":\"2b076d35\",\"views_article_informalessay_libs_20210601.md\":\"25b63ef0\",\"views_article_informalessay_libs_20210620.md\":\"7dd02087\",\"views_article_informalessay_libs_20210625.md\":\"5318f000\",\"views_article_informalessay_libs_20210701.md\":\"5d57af84\",\"views_article_informalessay_libs_20210730.md\":\"462f03b2\",\"views_article_javascript_index.md\":\"30c197e2\",\"views_article_javascript_libs_20191010.md\":\"616340fe\",\"views_article_javascript_libs_20200613.md\":\"11f5b79f\",\"views_article_javascript_libs_20210101.md\":\"bed31b98\",\"views_article_javascript_libs_20210206.md\":\"ffc9fb93\",\"views_article_javascript_libs_20210321.md\":\"2ec784fa\",\"views_article_javascript_libs_20210401.md\":\"ac3fe4ef\",\"views_article_javascript_libs_20210501.md\":\"f28de15b\",\"views_article_javascript_libs_20210524.md\":\"87a945a1\",\"views_article_javascript_libs_20210526.md\":\"8fbb518e\",\"views_article_javascript_libs_20210530.md\":\"b4d2de8d\",\"views_article_javascript_libs_20210710.md\":\"90fe4b9f\",\"views_article_javascript_libs_20210712.md\":\"f1219eea\",\"views_article_javascript_libs_20210801.md\":\"f0e23f8b\",\"views_article_javascript_libs_20211024.md\":\"bab31d58\",\"views_article_javascript_libs_20211110.md\":\"af8cee77\",\"views_article_javascript_libs_20211112.md\":\"74527a5c\",\"views_article_javascript_libs_20211118.md\":\"4a7da902\",\"views_article_nodejs_index.md\":\"f80f175e\",\"views_article_nodejs_libs_20200926.md\":\"bd869bf9\",\"views_article_nodejs_libs_20210601.md\":\"41ad5e43\",\"views_article_react_index.md\":\"ef0d2704\",\"views_article_react_libs_20201230.md\":\"179058fc\",\"views_article_react_libs_20210426.md\":\"48b4824a\",\"views_article_vue_index.md\":\"dc31bf30\",\"views_article_vue_libs_20200929.md\":\"a5f4242b\",\"views_article_vue_libs_20210113.md\":\"1fa68b5e\",\"views_article_vue_libs_20210601.md\":\"fd04e088\",\"views_article_vue_libs_20210914.md\":\"5da30f57\",\"views_article_vue_libs_20211020.md\":\"de26b775\",\"views_article_vue_libs_20211023.md\":\"e1210e3c\",\"views_article_vue_libs_20211101.md\":\"935dddf0\",\"views_article_vue_libs_20211124.md\":\"68d74f38\",\"views_article_vue_libs_20211201.md\":\"d11979b6\",\"views_article_vue_libs_20211205.md\":\"6ba399b5\",\"views_article_index.md\":\"49edb3b3\",\"views_project_index.md\":\"e40eeafe\"}")</script>
    <script type="module" async src="/assets/app.5f77e5d0.js"></script>
    
  </body>
</html>